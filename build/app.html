<!doctype html>
<html lang="en">
<head><title>Modern JavaScript Test Page</title>
<style>
div.tooltip{padding:6px;background:#fff;border:1px #76808c solid;border-radius:5px;z-index:2}
</style>
</head>
<body>
<noscript>This is Modern JavaScript Test Page that requires JavaScript enabled in your client application.</noscript>
<header><h1>Modern JavaScript Test Page</h1></header>
<div id="test-target"></div>
<footer>a good footer</footer>
<script>
!function(){var features={Syntax:[{title:"<code>let</code> and <code>const</code> declarations",test:"test=function(){const a=true;let b=true;return a&&b}()",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-let-and-const-declarations",ver:"es6"},{title:"Spread operator (<code>...</code>)",test:"test=function(){var a=[1,2,3];return Math.min(...a)===1}()",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-argument-lists-runtime-semantics-argumentlistevaluation",ver:"es6"},{title:"Destructuring declarations, assignment, parameters",test:"test=function(){var arr=[1,2,3],obj={a:1, b:2, c:3},[a1,a2,a3,a4]=arr,{a,b,c,d=true}=obj;return a1===a&&a2===b&&a3===c&&!a4&&d}()",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-destructuring-assignment",ver:"es6"},{title:"Object literal syntax extension",test:"test=function(){var prop=true;return{prop}}().prop",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-object-initialiser",ver:"es6"},{title:"<code>for-of</code> loop",test:"test=function(){var a=[0,1,2,3];for(var v of a){if(v===2){return true}}}()",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-for-in-and-for-of-statements",ver:"es6"},{title:"Octal literal <code>0o</code> prefix",test:'test=function(){"use strict";return 0o10===8}()',ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-literals-numeric-literals",ver:"es6"},{title:"<code>class</code> definition",test:"test=function(){class c{constructor(){this.b=true;}}return new c().b;}();",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-class-definitions",ver:"es6"}],Functions:[{title:"Arrow function",test:"test=()=>true;",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-arrow-function-definitions",ver:"es6"},{title:"Block-level function declaration",test:'test=function(){"use strict";if(!void 0){function f(){return true}return f()}return false}()',ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-functiondeclarationinstantiation",ver:"es6"},{title:"Default function parameter values",test:"test=function(b=true){return b;}()",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-functiondeclarationinstantiation",ver:"es6"},{title:"Rest parameters",test:"test=function(...p){return p[0]}(true)",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-function-definitions",ver:"es6"},{title:"<code>new.target</code>",test:'test=function(){function A(){if (!new.target) throw "oops"};try{new A();return true} catch(x){return false}}()',ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-built-in-function-objects",ver:"es6"},{title:"Generator functions",test:"test=function(){var g=function*(){yield 1;},i=g(); return i.next().value;}();",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-generator-function-definitions",ver:"es6"},{title:"Asynchronous function syntax with <code>async</code> and <code>await</code> keywords",test:'test=function(){var f1=function(){return new Promise(function(res,rej){setTimeout(function(){res("done");}, 3333);});};(async function(){var msg=await f1();console.log(msg);})();return true;};',tip:"async function someAsyncFunc(){\n\tvar result = await somePromiseMakingFunc();\n\t// continue after getting promise resolved\n\tconsole.log(result);\n}",ecma:"",ver:"js17"},{title:"",test:"",ecma:"",ver:"es6"}],"Built-in objects":[{title:"<code>Set</code>",test:'test=function(){var s=new Set();s.add(1);s.add("1");s.add("1");s.add({});s.add({});return s.size===4;}();',ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-set-objects",ver:"es6"},{title:"<code>Map</code>",test:"test=function(){var m=new Map();m.set(1, true);return m.get(1);}();",ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-map-objects",ver:"es6"},{title:"<code>Promise</code>",test:function(){return"function"==typeof Promise&&"function"==typeof Promise.resolve},ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects",ver:"es6"},{title:"<code>Symbol</code>",test:function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol()},ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-symbol-constructor",ver:"es6"},{title:"",test:"",ecma:"",ver:"es6"}],Strings:[{title:"Template literals",test:'test=function(){"use strict";var a=String.fromCharCode(98);return `a${a}c`==="abc"}()',tip:'const a = "b"; `a${a}c` === "abc";',ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-template-literals",ver:"es6"},{title:"String prototype <code>includes</code> method",test:'test=function(){return "ab".includes("b");}();',tip:'"ab".includes("b")',ecma:"",mdn:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes",ver:"es6"},{title:"String prototype <code>startsWith</code> method",test:'test=function(){return "ab".startsWith("a");}();',tip:'"ab".startsWith("a")',ecma:"",mdn:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith",ver:"es6"},{title:"String prototype <code>endsWith</code> method",test:'test=function(){return "ab".endsWith("b");}();',tip:'"ab".endsWith("b");',ecma:"",mdn:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith",ver:"es6"},{title:"String prototype <code>repeat</code> method",test:'test=function(){return "a".repeat(3)==="aaa";}();',tip:'"-".repeat(3)==="---"',ecma:"",mdn:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith",ver:"es6"},{title:"String prototype <code>codePointAt</code> method",test:'test=function(){return "aêê∑".codePointAt(1)===66615;}();',tip:'"êê∑".charCodeAt(0) === 55297; "êê∑".codePointAt(0) === 66615;',ecma:"",ver:"es6"},{title:"String <code>fromCodePoint</code> method",test:'test=function(){return String.fromCodePoint(66615)==="êê∑";}();',ecma:"",ver:"es6"}],"Regular Expressions":[{title:"RegExp <code>u</code> flag (unicode)",test:function(){new RegExp(".","u");return!0},ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-get-regexp.prototype.unicode",ver:"es6"},{title:"RegExp <code>y</code> flag (sticky)",test:function(){new RegExp(".","y");return!0},ecma:"http://www.ecma-international.org/ecma-262/6.0/#sec-get-regexp.prototype.sticky",ver:"es6"},{title:"RegExp prototype <code>flags</code> property",test:function(){return"g"===/xyz/g.flags},tip:'var re = /xyz/g; re.flags === "g";',ecma:"",ver:"es6"}]},runTest=function(p){var t=typeof p;if("function"===t){try{return!!p()}catch(e){}return!1}if("string"===t){var test=!1;try{eval(s)}catch(e){}return test}},versionMap={es6:"ECMAScript 6",js16:"JavaScript 2016",js17:"JavaScript 2017"},withText=function(e,t){if(t){var n=document.createTextNode(t);e.appendChild(n)}return e},makeEl=function(e,t,n){var o=document.createElement(e);return t&&(o.className=t),withText(o)},makeTextLink=function(e,t,n,o){var r=makeEl("a",n,t);return r.setAttribute("href",e),(o||void 0===o)&&(r.setAttribute("target","_blank"),r.setAttribute("noopener",""),r.setAttribute("noreferrer","")),r},oTooltip=new function(){var i,c,s,l,d,u=!0;this.follow=function(e){if(!u){var t=e.clientX,n=e.clientY;s+=t-i,l+=n-c,d.style.left=s+"px",d.style.top=l+"px",i=t,c=n}},this.remove=function(){u||(u=!0,document.body.removeChild(d))},this.append=function(e,t){d.innerHTML=t,u&&(document.body.appendChild(d),u=!1);var n=document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.scrollTop||document.body.scrollTop,r=d.offsetWidth,a=d.offsetHeight;i=e.clientX,c=e.clientY,s=document.body.offsetWidth-i-n>r?i+n+10:document.body.offsetWidth-r+16,l=6<c-a?c+o-a-7:c+o+20,d.style.left=s+"px",d.style.top=l+"px"},this.init=function(){(d=document.createElement("div")).className="tooltip",d.style.position="absolute"}},addTooltip=function(e,t){e.addEventListener("mouseover",function(e){oTooltip.append(e,t)}),e.addEventListener("mousemove",function(e){oTooltip.follow(e)}),e.addEventListener("mouseout",function(e){oTooltip.remove(e)})};!function(e){var t=document.getElementById("test-target");for(var n in t.innerHtml="",features){var o=makeEl("div"),r=makeEl("h2"),a=makeEl("ul"),i=features[n];o.className="section",r.innerHTML=n,o.appendChild(r);for(var c=0,s=i.length;c<s;c++){var l,d,u,m,p,f,v,w,g=i[c];g.title&&g.test&&(l=runTest(g.test),v=makeEl("li","feature "+(l?"pass":"fail")),u=makeEl("span","checkmark"),(d=makeEl("span","descr")).innerHTML=g.title,v.appendChild(u),v.appendChild(d),w=makeEl("div","subline"),g.ver&&versionMap[g.ver]&&(f=makeEl("span","version",versionMap[g.ver]),w.appendChild(f)),g.ecma&&(p=makeTextLink(g.ecma,"ECMA","ecma"),w.appendChild(p)),g.mdn&&(m=makeTextLink(g.mdn,"MDN","mdn"),w.appendChild(m)),v.appendChild(w),g.tip&&addTooltip(v,g.tip))}a.appendChild(v),o.appendChild(a),t.appendChild(o)}}(),window.addEventListener("load",function(){oTooltip.init()})}();
</script>
</body>
</html>
